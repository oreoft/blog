---
category: linux
excerpt: Break the 1.8.3.1 Limitation
keywords: linux, git, other
lang: en
layout: post
title: Installing a Newer Version of Git on Linux Using Yum
---

## Preface

At work, when I deploy Java code, I usually build a jar locally, scp it to the server, then start it with `java -jar`. Git isn’t even needed on the server. Recently the project was rewritten in Go. Now there’s an extra requirement on the server: pull the code, compile it, and then start it. Even though I generally write the code locally and only need to pull it on the server, I found that the built-in Git version on CentOS 7 is *really* old—there aren’t even prompts for the most common branch/status indicators.

![image-20210709104042844](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709104042.png)

<center>Local version 2.30, with branch indicator</center>

![image-20210709104117424](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709104117.png)

<center>Server version 1.8, no branch indicator—looks like a normal folder</center>

## yum can’t upgrade

Naturally, I thought about upgrading Git, but after running ```yum update git``` I found it was already “the latest version”.

![image-20210709104514884](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709104514.png)

## Solution

We just need to specify the repository for this package. Yum’s default repo is probably aiming for stability, but the version is indeed a bit too old. Just add a config under yum’s repo directory.

1. Add a repo file. If you don’t have it, vim will create it automatically in that directory.

```vim /etc/yum.repos.d/wandisco-git.repo```

2. Add the following content, then `:q` to save and exit

```shell
[ndisco-git]
name=Wandisco GIT Repository
baseurl=http://opensource.wandisco.com/centos/7/git/$basearch/
enabled=1
gpgcheck=1
gpgkey=http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco
```

![image-20210709105223262](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709105223.png)

3. Import the GPG public key

```sudo rpm --import http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco```

4. Then run ```yum update git``` again

![image-20210709105423136](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709105423.png)



**Now take a look—update successful**

![image-20210709105602679](https://mypicgogo.oss-cn-hangzhou.aliyuncs.com/tuchuang20210709105602.png)

**END**