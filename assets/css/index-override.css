/* 统一使用 jekyll-geo-pattern 生成背景 */

/* 1. 确保 Header 和 Jumbotron 使用 geopattern 生成的背景 */
.site-header.geopattern,
.jumbotron.geopattern {
    color: #ffffff !important; /* 确保文字是白色 */
    /* 强制背景平铺且不缩放，解决不同页面背景图案大小不一致的问题 */
    background-size: auto !important;
    background-repeat: repeat !important;
    background-position: center top !important;
}

.jumbotron.geopattern {
    background-color: transparent !important;
}

/* Header 初始透明，让底部的 GeoPattern 透过；需要时玻璃态再叠加色块 */
.site-header.geopattern {
    background-image: none !important;
}

/* 2. 确保 Header 内部元素透明，以显示父元素的 geopattern 背景 */
.site-header-topbar,
.site-header .container,
.site-header-nav,
.site-header-nav-item,
.site-header-nav-item.selected {
    background: transparent !important;
    background-color: transparent !important;
}

/* 3. 确保所有链接和文字颜色为白色，与深色背景形成对比 */
.site-header-topbar .topbar-menu .item a,
#site-header-brand,
.site-header-nav .site-header-nav-item > a { /* 只针对一级菜单链接设为白色 */
    color: #ffffff !important;
}

/* 修复下拉菜单（子菜单）样式：白底黑字 */
.site-header-nav .site-header-nav-item .submenu {
    background-color: #ffffff !important; /* 确保背景是白色 */
}

.site-header-nav .site-header-nav-item .submenu a {
    color: #333333 !important; /* 子菜单文字改回深色，避免白底白字 */
}

.site-header-nav .site-header-nav-item .submenu a:hover {
    color: #409eff !important; /* 鼠标悬停时的颜色（可选） */
    background-color: #f5f5f5 !important;
}

/* 4. 选中项的样式微调 */
.site-header-nav .site-header-nav-item.selected a {
    color: #ffffff !important;
    border-bottom-color: #ffffff !important;
}

/* 玻璃态 Header：滚动后叠加半透明+模糊 */
.site-header.geopattern {
    transition:
        background-color 0.25s ease,
        backdrop-filter 0.25s ease,
        -webkit-backdrop-filter 0.25s ease,
        box-shadow 0.25s ease;
}

.site-header.geopattern.is-glass,
.site-header.geopattern.site-header-nav-scrolled {
    background-color: rgba(255, 255, 255, 0.14) !important;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.22);
}

.site-header.geopattern:not(.is-glass):not(.site-header-nav-scrolled) {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}
