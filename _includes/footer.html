<footer class="container">
    <div class="site-footer">
        <div class="site-footer-links mobile-hidden">
            {% assign lang = page.lang | default: 'zh' %}
            {% for nav in site.data.i18n[lang].menus.labels %}
            <a href="{{ nav.href }}" title="{{ nav.label | t }}" target="{{ nav.target | default: _self }}">{{ nav.label | t }}</a>
            {% endfor %}
        </div>
        <div class="site-footer-icons">
               <a href="http://beian.miit.gov.cn" >{{ 'footer.icp' | t }}</a>
        </div>
        <div class="scrolltop">
            <a href="javascript:window.scrollTo(0,0)" >{{ 'footer.top' | t }}</a>
        </div>
        <div class="rss">
            <a href="{{ site.subscribe_rss }}"><span class="octicon octicon-rss" style="color:orange;"></span></a>
            {{ 'footer.power_by' | t }} <a href="https://jekyllrb.com">Jekyll</a>
        </div>
    </div>
    <!-- Third-Party JS -->
    <script type="text/javascript" src="https://someget.oss-accelerate.aliyuncs.com/assets/js/geopattern.min.js"></script>

    <!-- 首页每日更换背景 Pattern -->
    {% if page.menu == 'home' %}
    <script>
        (function() {
            try {
                var date = new Date();
                var day = date.getDay(); // 0-6 (周日是0)
                // 将星期几作为后缀拼接到 pattern-id 上
                // 这样每天生成的字符串都不一样，对应的背景图案也就不一样
                var suffix = " - " + day; 
                
                var updatePatternId = function(selector) {
                    var el = document.querySelector(selector);
                    if (el) {
                        var originalId = el.getAttribute('data-pattern-id');
                        if (originalId) {
                            el.setAttribute('data-pattern-id', originalId + suffix);
                        }
                    }
                };
                
                // 更新 Header 和 Jumbotron
                updatePatternId('.site-header.geopattern');
                updatePatternId('.jumbotron.geopattern');
            } catch (e) {
                console.error('Failed to update pattern id', e);
            }
        })();
    </script>
    {% endif %}

    <!-- My JS -->
    <script type="text/javascript" src="https://someget.oss-accelerate.aliyuncs.com/assets/js/script.js"></script>
           <script type="text/javascript" src="/assets/js/locale-switch.js"></script>
           <script type="text/javascript" src="/assets/js/code-copy.js"></script>
           
           <!-- 搜索弹窗 -->
           {% include search-modal.html %}
    {% for javascript in page.javascript %}
    <script src="/assets/js/{{javascript}}"></script>
    {% endfor %}
    
     <!-- Cnzz Analytics -->
       <div style="display:none">
         <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1260945749'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1260945749' type='text/javascript'%3E%3C/script%3E"));</script>
       </div>
     <!-- Cnzz Analytics -->

</footer>
